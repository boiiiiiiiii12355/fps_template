[gd_scene format=3 uid="uid://d06a6d1kgqb7x"]

[ext_resource type="Script" uid="uid://1a4buntu66sd" path="res://maps/level.gd" id="1_mcqkj"]
[ext_resource type="PackedScene" uid="uid://pp84otuo1e2v" path="res://maps/map_gltf/killhouse.glb" id="1_mfx64"]
[ext_resource type="PackedScene" uid="uid://1yxyrfjflrro" path="res://tscns/enemy/enemy_base.tscn" id="3_rjq8o"]
[ext_resource type="PackedScene" uid="uid://boffk3cmlo84r" path="res://tscns/enemy/cover_point.tscn" id="5_fyvq4"]
[ext_resource type="PackedScene" uid="uid://b40i5v5ewe75i" path="res://maps/props/box_cover.tscn" id="5_lckig"]

[sub_resource type="NavigationMesh" id="NavigationMesh_mcqkj"]
vertices = PackedVector3Array(-21.923786, 0.41397285, -8.171751, -19.673786, 0.41397285, -7.421751, -19.423786, 0.41397285, -9.671751, -21.923786, 0.41397285, -21.921751, -4.173786, 0.41397285, -19.171751, -1.9237862, 0.41397285, -19.421751, -1.9237862, 0.41397285, -21.921751, -4.173786, 0.41397285, -9.671751, 22.076214, 0.41397285, -19.171751, 22.076214, 0.41397285, -21.921751, -3.4237862, 0.41397285, -10.671751, -2.9237862, 0.41397285, -10.671751, -2.6737862, 0.41397285, -12.171751, -3.4237862, 0.41397285, -18.421751, 17.826214, 0.41397285, -12.421751, 21.076214, 0.41397285, -18.421751, 18.826214, 0.41397285, -12.171751, 21.076214, 0.41397285, -12.421751, 18.076214, 0.41397285, 8.578249, 18.826214, 0.41397285, 8.578249, 19.576214, 0.41397285, -11.421751, 19.576214, 0.41397285, 9.578249, 22.076214, 0.41397285, 9.578249, 22.076214, 0.41397285, -11.671751, 15.826214, 0.41397285, -9.921751, 16.076214, 0.41397285, -0.42175102, 17.326214, 0.41397285, -0.42175102, 17.326214, 0.41397285, -11.421751, -1.9237862, 0.41397285, -11.421751, -1.9237862, 0.41397285, -9.921751, -2.6737862, 0.41397285, -8.921751, -3.6737862, 0.41397285, -8.671751, -7.923786, 0.41397285, -6.171751, -6.423786, 0.41397285, -5.921751, 13.576214, 0.41397285, -5.921751, 15.076214, 0.41397285, -8.921751, -7.673786, 0.41397285, -4.171751, -6.673786, 0.41397285, -3.921751, -18.673786, 0.41397285, -8.671751, -18.673786, 0.41397285, -6.171751, 13.826214, 0.41397285, -1.421751, 15.076214, 0.41397285, -1.421751, -19.423786, 0.41397285, -5.171751, -21.923786, 0.41397285, -0.42175102, -8.423786, 0.41397285, -0.42175102, -8.423786, 0.41397285, -5.171751, -5.923786, 0.41397285, -5.171751, -5.923786, 0.41397285, -0.42175102, 12.826214, 0.41397285, -0.42175102, 12.826214, 0.41397285, -5.171751, -4.673786, 0.41397285, 9.578249, -4.673786, 0.41397285, 9.078249, -5.423786, 0.41397285, 8.828249, -7.673786, 0.41397285, 9.578249, -1.1737862, 0.41397285, 5.078249, -0.92378616, 0.41397285, 5.828249, -0.42378616, 0.41397285, 5.828249, -0.42378616, 0.41397285, 0.578249, -7.923786, 0.41397285, 2.328249, -7.923786, 0.41397285, 3.078249, -7.673786, 0.41397285, 3.828249, -5.923786, 0.41397285, 4.078249, -6.423786, 0.41397285, 0.578249, -2.4237862, 0.41397285, 5.078249, -4.173786, 0.41397285, 7.328249, -2.6737862, 0.41397285, 6.328249, -6.173786, 0.41397285, 4.828249, -5.423786, 0.41397285, 7.578249, -7.673786, 0.41397285, 4.828249, -1.1737862, 0.41397285, 6.828249, -0.42378616, 0.41397285, 7.828249, -0.42378616, 0.41397285, 9.578249, -0.17378616, 0.41397285, 8.828249, -3.6737862, 0.41397285, 8.828249, -3.6737862, 0.41397285, 7.578249, -2.4237862, 0.41397285, 6.828249, 0.07621384, 0.41397285, 8.078249, 0.32621384, 0.41397285, 9.578249, 0.32621384, 0.41397285, 0.578249, 17.326214, 0.41397285, 9.578249, 13.576214, 0.41397285, 0.578249, 15.326214, 0.41397285, 0.578249, 17.326214, 0.41397285, 0.578249, -14.923786, 0.41397285, 3.078249, -14.173786, 0.41397285, 2.828249, -14.173786, 0.41397285, 0.578249, -21.923786, 0.41397285, 0.578249, -13.423786, 0.41397285, 7.578249, -13.673786, 0.41397285, 4.578249, -14.923786, 0.41397285, 4.328249, -9.673786, 0.41397285, 9.578249, -9.173786, 0.41397285, 8.328249, -13.423786, 0.41397285, 8.328249, -21.923786, 0.41397285, 9.578249, -8.423786, 0.41397285, 3.328249, -8.423786, 0.41397285, 2.078249, -13.173786, 0.41397285, 3.078249, -13.173786, 0.41397285, 4.328249, -8.423786, 0.41397285, 7.578249, -8.423786, 0.41397285, 0.578249, -14.423786, 0.91397285, 3.328249, -14.423786, 0.91397285, 4.078249, -13.673786, 0.91397285, 4.078249, -13.673786, 0.91397285, 3.328249, -2.1737862, 0.91397285, 5.578249, -2.1737862, 0.91397285, 6.328249, -1.4237862, 0.91397285, 6.328249, -1.4237862, 0.91397285, 5.578249, -4.923786, 0.91397285, 7.828249, -4.923786, 0.91397285, 8.578249, -4.173786, 0.91397285, 8.578249, -4.173786, 0.91397285, 7.828249, -9.173786, 0.41397285, 9.828249, -8.423786, 0.41397285, 10.078249, -8.423786, 0.41397285, 8.328249, -7.173786, 0.41397285, 22.078249, -7.173786, 0.41397285, 20.078249, -7.923786, 0.41397285, 19.828249, -21.923786, 0.41397285, 22.078249, -7.923786, 0.41397285, 18.578249, -9.423786, 0.41397285, 10.328249, -21.923786, 0.41397285, 10.328249, -7.173786, 0.41397285, 10.328249, -7.173786, 0.41397285, 18.328249, 17.826214, 0.41397285, 10.578249, 19.076214, 0.41397285, 10.578249, 1.8262138, 0.41397285, 10.578249, 1.8262138, 0.41397285, 22.078249, 22.076214, 0.41397285, 22.078249, 22.076214, 0.41397285, 10.578249, -6.173786, 0.41397285, 19.828249, 1.0762138, 0.41397285, 22.078249, -6.173786, 0.41397285, 18.578249, 1.0762138, 0.41397285, 10.328249, -7.423786, 0.91397285, 18.828249, -7.423786, 0.91397285, 19.578249, -6.673786, 0.91397285, 19.578249, -6.673786, 0.91397285, 18.828249)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 3), PackedInt32Array(7, 2, 4), PackedInt32Array(4, 2, 3), PackedInt32Array(6, 9, 5), PackedInt32Array(5, 9, 8), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(12, 13, 14), PackedInt32Array(14, 13, 15), PackedInt32Array(16, 14, 17), PackedInt32Array(17, 14, 15), PackedInt32Array(19, 18, 16), PackedInt32Array(16, 18, 14), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(29, 28, 24), PackedInt32Array(24, 28, 27), PackedInt32Array(11, 30, 10), PackedInt32Array(10, 30, 31), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 30), PackedInt32Array(33, 30, 34), PackedInt32Array(34, 30, 35), PackedInt32Array(37, 36, 33), PackedInt32Array(33, 36, 32), PackedInt32Array(39, 38, 32), PackedInt32Array(32, 38, 31), PackedInt32Array(40, 34, 41), PackedInt32Array(41, 34, 35), PackedInt32Array(1, 42, 0), PackedInt32Array(0, 42, 43), PackedInt32Array(45, 44, 42), PackedInt32Array(42, 44, 43), PackedInt32Array(49, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(51, 50, 52), PackedInt32Array(52, 50, 53), PackedInt32Array(55, 54, 56), PackedInt32Array(56, 54, 57), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(37, 62, 36), PackedInt32Array(36, 62, 58), PackedInt32Array(58, 62, 61), PackedInt32Array(61, 62, 63), PackedInt32Array(63, 62, 54), PackedInt32Array(54, 62, 57), PackedInt32Array(65, 64, 63), PackedInt32Array(63, 64, 67), PackedInt32Array(63, 67, 66), PackedInt32Array(63, 66, 61), PackedInt32Array(52, 53, 67), PackedInt32Array(67, 53, 66), PackedInt32Array(66, 53, 68), PackedInt32Array(55, 56, 69), PackedInt32Array(69, 56, 70), PackedInt32Array(72, 71, 70), PackedInt32Array(51, 73, 50), PackedInt32Array(50, 73, 71), PackedInt32Array(75, 74, 65), PackedInt32Array(65, 74, 64), PackedInt32Array(70, 76, 72), PackedInt32Array(72, 76, 77), PackedInt32Array(69, 70, 75), PackedInt32Array(75, 70, 74), PackedInt32Array(74, 70, 73), PackedInt32Array(73, 70, 71), PackedInt32Array(76, 78, 77), PackedInt32Array(77, 78, 80), PackedInt32Array(77, 80, 79), PackedInt32Array(41, 81, 40), PackedInt32Array(40, 81, 80), PackedInt32Array(81, 82, 79), PackedInt32Array(80, 81, 79), PackedInt32Array(84, 83, 85), PackedInt32Array(85, 83, 86), PackedInt32Array(89, 88, 87), PackedInt32Array(91, 90, 92), PackedInt32Array(92, 90, 93), PackedInt32Array(87, 92, 89), PackedInt32Array(89, 92, 93), PackedInt32Array(89, 93, 86), PackedInt32Array(86, 83, 89), PackedInt32Array(59, 94, 58), PackedInt32Array(58, 94, 95), PackedInt32Array(95, 94, 96), PackedInt32Array(96, 94, 97), PackedInt32Array(88, 97, 87), PackedInt32Array(87, 97, 98), PackedInt32Array(98, 97, 94), PackedInt32Array(84, 85, 96), PackedInt32Array(96, 85, 95), PackedInt32Array(95, 85, 99), PackedInt32Array(103, 102, 100), PackedInt32Array(100, 102, 101), PackedInt32Array(107, 106, 104), PackedInt32Array(104, 106, 105), PackedInt32Array(111, 110, 108), PackedInt32Array(108, 110, 109), PackedInt32Array(112, 90, 113), PackedInt32Array(113, 90, 91), PackedInt32Array(113, 91, 114), PackedInt32Array(116, 115, 117), PackedInt32Array(117, 115, 118), PackedInt32Array(119, 117, 120), PackedInt32Array(120, 117, 121), PackedInt32Array(121, 117, 118), PackedInt32Array(113, 120, 112), PackedInt32Array(113, 122, 120), PackedInt32Array(120, 122, 123), PackedInt32Array(120, 123, 119), PackedInt32Array(19, 125, 18), PackedInt32Array(18, 125, 124), PackedInt32Array(126, 124, 127), PackedInt32Array(127, 124, 128), PackedInt32Array(125, 129, 128), PackedInt32Array(124, 125, 128), PackedInt32Array(116, 130, 115), PackedInt32Array(115, 130, 131), PackedInt32Array(122, 133, 132), PackedInt32Array(132, 133, 131), PackedInt32Array(131, 130, 132), PackedInt32Array(132, 123, 122), PackedInt32Array(137, 136, 134), PackedInt32Array(134, 136, 135)]
geometry_parsed_geometry_type = 1
geometry_source_geometry_mode = 1
geometry_source_group_name = &"level_geometry"
agent_radius = 0.2

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_mcqkj"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_fyvq4"]
sky_material = SubResource("ProceduralSkyMaterial_mcqkj")

[sub_resource type="Environment" id="Environment_lckig"]
background_mode = 2
sky = SubResource("Sky_fyvq4")
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mcqkj"]
emission_enabled = true
emission = Color(18.892002, 18.892002, 18.892002, 1)

[node name="ai_testing_place" type="Node3D" unique_id=1645744004]
script = ExtResource("1_mcqkj")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="." unique_id=1506102899]
navigation_mesh = SubResource("NavigationMesh_mcqkj")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1574482107]
environment = SubResource("Environment_lckig")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=148444715]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
light_color = Color(0.67481464, 0.67481464, 0.6748146, 1)
shadow_enabled = true

[node name="killhouse" parent="." unique_id=605577755 groups=["level_geometry"] instance=ExtResource("1_mfx64")]

[node name="map_objects" type="Node3D" parent="killhouse" unique_id=1057588943]

[node name="enemy_base" parent="." unique_id=303559765 node_paths=PackedStringArray("specified_target") instance=ExtResource("3_rjq8o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.314358, 0.08880091, 5.3253975)
specified_target = NodePath("../CSGBox3D")

[node name="Camera3D" type="Camera3D" parent="enemy_base" unique_id=1600373118]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 12.247, 0)

[node name="CSGBox3D" type="CSGBox3D" parent="." unique_id=934643500]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.2321339, 0, 2.6992285)
size = Vector3(0.5, 0.5, 0.5)
material = SubResource("StandardMaterial3D_mcqkj")

[node name="CoverPoint" parent="." unique_id=324885791 instance=ExtResource("5_fyvq4")]
transform = Transform3D(-0.027956583, 0, 0.9996091, 0, 1, 0, -0.9996091, 0, -0.027956583, -15.402941, -0.0860281, 1.9932725)

[node name="CoverPoint2" parent="." unique_id=600283306 instance=ExtResource("5_fyvq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.46267, -0.08605957, 9.740992)

[node name="CoverPoint3" parent="." unique_id=474683310 instance=ExtResource("5_fyvq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.3846006, -0.08605957, 5.2716665)

[node name="CoverPoint4" parent="." unique_id=635260077 instance=ExtResource("5_fyvq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1324663, -0.08605957, 2.6247733)

[node name="CoverPoint5" parent="." unique_id=979676005 instance=ExtResource("5_fyvq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.2436934, -0.08605957, -5.9164424)

[node name="CoverPoint6" parent="." unique_id=207946700 instance=ExtResource("5_fyvq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6488905, -0.08605957, 1.415865)

[node name="box_cover" parent="." unique_id=1833818623 instance=ExtResource("5_lckig")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.987757, -0.082966805, 3.6392164)

[node name="box_cover2" parent="." unique_id=1227704857 instance=ExtResource("5_lckig")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6777258, -0.08296776, 6.046644)

[node name="box_cover3" parent="." unique_id=2097347095 instance=ExtResource("5_lckig")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.475662, -0.08296585, 8.196361)

[node name="box_cover4" parent="." unique_id=1500299904 instance=ExtResource("5_lckig")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.127267, -0.08296776, 19.208372)
